<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
    <title>股票分析</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/BeatPicker.min.css"/>
    <link rel="stylesheet" href="documents/css/demos.css"/>
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/BeatPicker.min.js"></script>
</head>
<body>
	<div class="container">
	<div class="row">
		<div class="inputtime col-md-6 col-md-offset-3 col-xs-6 col-xs-offset-3  col-sm-6 col-sm-offset-3">
			<h1>股票分析</h1>
		</div>
	</div>
	<form action="#" method="get">
		<div class="row">
			<div class="inputtime col-md-6 col-md-offset-3 col-xs-6 col-xs-offset-3  col-sm-6 col-sm-offset-3">
					<div class="inputname">请输入起始时间</div>
			        <input id="starttime" type="text" name="starttime" data-beatpicker="true"/>
			</div>
		</div>
		<div class="row">
			<div class="inputtime col-md-6 col-md-offset-3 col-xs-6 col-xs-offset-3 col-sm-6 col-sm-offset-3">
					<div class="inputname">请输入截止时间</div>
			        <input id="endtime" type="text" name="endtime" data-beatpicker="true"/>
			</div>
		</div>
	        <input type="submit">
	</form>
	开始时间：<div id="start"></div>
	结束时间：<div id="end"></div>
	<button id="btn">click</button><br>
	<button id="btn2">click</button><br>
	<button>一个不中</button>
	<input type="text" id="no_one" disabled="true"><br>
	<button>至少一个</button>
	<input type="text" id="at_least" disabled="true"><br>
	<button>只中一个</button>
	<input type="text" id="only_one" disabled="true"><br>
	<button>至少两个</button>
	<input type="text" id="least_two" disabled="true"><br>
	<button>至少三个</button>
	<input type="text" id="least_three" disabled="true"><br>
	</div>
</body>
<script>
	var data = [0.2,0.3,0.4,0.1];
	var count0 = 0;
	var count1 = 0;
	var count2 = 0;
	var starttime = document.getElementById("starttime");
	var endtime = document.getElementById("endtime");
	var btn=document.getElementById('btn');
	var btn2=document.getElementById('btn2');
	var no_one=document.getElementById('no_one');
	var at_least=document.getElementById('at_least');
	var only_one=document.getElementById('only_one');
	var least_two=document.getElementById('least_two');
	var least_three=document.getElementById('least_three');
	var more=document.getElementById('more');
	btn2.onclick=function(){
		no_one_at_least();
		only_one_value();
		at_least_two();
		at_least_three();
	}
	function no_one_at_least(){
		let base = 1;
		data.forEach(function(item){
			base *= (1-item);
		});
		no_one.value = base;
		count0 = base;
		at_least.value = 1 - base;

	}
	function only_one_value(){
		let base = 1;
		let last = 0;
		for(let i=0;i<data.length;i++){

			for(let j=0;j<data.length;j++){
				if(i==j){continue;}
				base*=(1-data[j]);
			}
			last += (data[i]*base);

		}
		only_one.value = last;
		count1 = last;
	}
	function at_least_two(){
		least_two.value = 1-(count0+count1);
		count2 = 1-(count0+count1);
	}
	function at_least_three(){
		//错的
		least_three.value = 1-(count0+count1+count2);
	}
	btn.onclick=function(){
		var starttime_val = starttime.value;
		var endtime_val = endtime.value;
			if(starttime_val==""||starttime_val==null)
			{
				alert("请输入起始时间！");
			}
			else if(endtime_val==""||endtime_val==null)
			{
				alert("请输入截止时间！");
			}
			else if(starttime_val>endtime_val)
			{
				alert("起始时间必须大于截止时间！");
			}
		document.getElementById("start").innerHTML = starttime_val;
		document.getElementById("end").innerHTML = endtime_val;
		}
		
	
</script>
</html>